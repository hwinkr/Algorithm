### [ÌîÑÎ†åÏ¶à4Î∏îÎ°ù](https://school.programmers.co.kr/learn/courses/30/lessons/17679)

```py
def change_to_X(row, col, stack, board):
    for j in range(col):
        survive_blocks = []
        for i in range(row - 1, -1, -1):
            if (i, j) in stack:
                continue
            survive_blocks.append(board[i][j])
        while len(survive_blocks) < row:
            survive_blocks.append('X')
        for i in range(row):
            board[i][j] = survive_blocks.pop()


def solution(row, col, board):
    DRECTIONS = [
        [(-1, -1), (-1, 0), (0, -1)],
        [(-1, 1), (0, 1), (-1, 0)],
        [(0, -1), (1, -1), (1, 0)],
        [(1, 0), (1, 1), (0, 1)]
    ]
    board = [[c for c in board[i]] for i in range(row)]
    answer = 0

    while True:
        stack = set([])
        for i in range(1, row - 1):
            for j in range(1, col - 1):
                if board[i][j] == 'X':
                    continue

                for dir in DRECTIONS:
                    if all(board[i][j] == board[i + dx][j + dy] for (dx, dy) in dir):
                        stack.add((i, j))
                        stack.update([(i + dx, j + dy) for (dx, dy) in dir])

        if not stack:
            return answer
        answer += len(stack)
        change_to_X(row, col, stack, board)
```

### ‚úÖ Ï≤¥ÌÅ¨Ìè¨Ïù∏Ìä∏

- setÏùÑ ÌôúÏö©Ìïú Ï§ëÎ≥µÏ†úÍ±∞
- setÏóêÏÑú add, updateÏùò Ï∞®Ïù¥
- Ïù∏Îç±Ïä§ 1Î∂ÄÌÑ∞ ÌÉêÏÉâ
- Ï†úÍ±∞Îêú Î∏îÎ°ùÍ≥º Ï†úÍ±∞ÎêòÏßÄ ÏïäÏùÄ Î∏îÎ°ù ÏúÑÏπò Î≥ÄÍ≤Ω

### üìå ÌíÄÏù¥

Ï≤òÏùåÏóê Ïù¥ Î¨∏Ï†úÎ•º Ï†ëÍ∑ºÌïú Î∞©Î≤ïÏùÄ Îã§ÏùåÍ≥º Í∞ôÎã§.

- `stack`Ïóê Ï†úÍ±∞ÎêòÎäî 2x2 Î∏îÎ°ùÏùò Ï¢åÌëúÎ•º `append`
- ÌòÑÏû¨ Î∏îÎ°ùÍ≥º, ÌòÑÏû¨ Î∏îÎ°ùÏùò Ïò§Î•∏Ï™ΩÏóê ÏûàÎäî Î∏îÎ°ùÏù¥ Í∞ôÏùÄ Í≤ΩÏö∞ÏôÄ Í∑∏Î†áÏßÄ ÏïäÏùÄ Í≤ΩÏö∞Î•º ÎÇòÎàî
  - Í∞ôÎã§Î©¥, ÎëêÍ∞úÏùò Î∏îÎ°ù ÏïÑÎûòÏóê ÏûàÎäî Î∏îÎ°ùÏù¥ 'X'Í∞Ä ÏïÑÎãê Îïå ÍπåÏßÄ rowÎ•º Í≥ÑÏÜç +1 Ïî© Ï¶ùÍ∞ÄÏãúÌÇ¥
  - Îã§Î•¥Îã§Î©¥, ÌòÑÏû¨ Î∏îÎ°ù ÏïÑÎûòÏóê ÏûàÎäî Î∏îÎ°ùÏù¥ 'X'Í∞Ä ÏïÑÎãê Îïå ÍπåÏßÄ rowÎ•º Í≤åÏÜç +1 Ïî© Ï¶ùÍ∞ÄÏãúÌÇ¥
  - ÎÇòÎ®∏ÏßÄ Î∏îÎ°ùÎì§Ïóê ÎåÄÌï¥ÏÑú Î™®Îëê Í∞ôÏúºÎ©¥ `stack`Ïóê Ï¢åÌëúÎì§ÏùÑ Ï∂îÍ∞Ä
- Ï†úÍ±∞ÎêòÎäî **2x2 Î∏îÎ°ùÏùÑ 'X'Î°ú ÌëúÏãú**

Ïù¥ Ï†ëÍ∑º Î∞©Î≤ïÏù¥ Ï≤òÎ¶¨ÌïòÏßÄ Î™ªÌïòÎäî ÏòàÏô∏Í∞Ä ÏûàÏñ¥ÏÑú 10Í∞úÏùò ÌÖåÏä§Ìä∏ ÏºÄÏù¥Ïä§ Ï§ë ÌïòÎÇòÏùò ÏºÄÏù¥Ïä§Î•º ÌÜµÍ≥ºÌïòÏßÄ Î™ªÌñàÍ≥†, Ï∂îÍ∞ÄÎ°ú Ïó¨Îü¨Í∞úÏùò ifÎ¨∏ÏùÑ ÏÇ¨Ïö©Ìï¥ÏÑú Í≥ÑÏÜç ÎÇòÎàÑÎã§Î≥¥Îãà Í∞ÄÎèÖÏÑ±ÎèÑ Îñ®Ïñ¥Ï°åÎã§.  
Ìïú Î∏îÎ°ùÏùò Ïò§Î•∏Ï™ΩÏóê ÏûàÎäî Î∏îÎ°ùÍ≥º Í∞ôÍ±∞ÎÇò Í∞ôÏßÄ ÏïäÏùÄ Í≤ΩÏö∞Ïóê ÎåÄÌï¥ÏÑú ÎÇòÎàÑÏßÄ ÎßêÍ≥† **Ïò§Î°úÏßÄ Ìïú Î∏îÎ°ùÏóê ÎåÄÌï¥ÏÑú Ï†úÍ±∞ÎêòÎäî 2x2 Î∏îÎ°ùÏùÑ ÎßåÎì§ Ïàò ÏûàÎäîÏßÄ ÏóÜÎäîÏßÄÏóê ÎåÄÌï¥ÏÑú ÌåêÎã®**Ìï¥Ï§òÏïº ÌñàÎã§.
Ï†úÍ±∞ÎêòÎäî Î∏îÎ°ùÎì§Ïùò ÏúÑÏóê ÏûàÎäî Î∏îÎ°ùÎì§ÏùÄ ÏïÑÎûòÎ°ú Îñ®Ïñ¥ÏßÄÍ∏∞ ÎïåÎ¨∏Ïóê Ïù¥Î•º Íµ¨ÌòÑÌï¥Ï£ºÎ©¥ Ïò§Î°úÏßÄ Ìïú Î∏îÎ°ùÏóê ÎåÄÌï¥ÏÑúÎßå ÌåêÎã®Ìï¥Ï£ºÎ©¥ ÎêúÎã§.

Ìïú Î∏îÎ°ùÏóê ÎåÄÌï¥ÏÑú Ïó¨Îü¨Í∞úÏùò 2x2 Î∏îÎ°ùÏùÑ ÎßåÎì§ ÏàòÎèÑ ÏûàÍ∏∞ ÎïåÎ¨∏Ïóê Ï¢åÌëúÍ∞íÏù¥ Ï§ëÎ≥µÎèºÏÑú stackÏóê Ï∂îÍ∞Ä Îê† Ïàò ÏûàÏñ¥ÏÑú **set ÏûêÎ£åÍµ¨Ï°∞Î•º ÌôúÏö©ÌïúÎã§**

- add : setÏóê **Ìïú Îç∞Ïù¥ÌÑ∞**Î•º Ï∂îÍ∞ÄÌïòÎäîÎç∞ ÏÇ¨Ïö©Îê®
- update : setÏóê **Ïó¨Îü¨ Îç∞Ïù¥ÌÑ∞**Î•º Ï∂îÍ∞ÄÌïòÎäîÎç∞ ÏÇ¨Ïö©Îê®

Î∏îÎ°ùÎì§Ïù¥ ÏïÑÎûòÎ°ú Îñ®Ïñ¥ÏßÄÎäî Í≤ÉÏùÑ Íµ¨ÌòÑÌïòÍ∏∞ ÏúÑÌï¥ÏÑú 'X'Î°ú ÌëúÏãúÎêòÎäî Î∏îÎ°ùÎì§ÏùÑ ÏúÑÎ°ú Ïò¨Î†§Ï£ºÍ∏∞Î°ú ÌñàÎã§.
Ìïú Ïó¥Ïóê ÎåÄÌï¥ÏÑú ÏßÅÏ†ë Í∑∏Î†§Î≥¥Î©¥ Îã§ÏùåÍ≥º Í∞ôÎã§.
|Î∞ÄÍ∏∞ Ï†Ñ|Î∞ÄÍ≥†ÎÇú ÌõÑ|
|------|---|
B|X
X|X
X|B
B|B
C|X

Ïù¥Î•º Íµ¨ÌòÑÌïòÍ∏∞ ÏúÑÌï¥ÏÑú, `board`Ïùò ÏïÑÎûòÏ™Ω Î∂ÄÌÑ∞ ÏãúÏûëÌï¥ÏÑú Ïä§ÌÉùÏóê Ï°∞Í±¥Ïóê ÎßûÍ≤å Í∞íÎì§ÏùÑ Ï∂îÍ∞ÄÌïòÍ≥† Îã§Ïãú ÏúÑÏóêÏÑú Î∂ÄÌÑ∞ ÎÇ¥Î†§Ïò§Î©¥ÏÑú pop ÌñàÎã§.
